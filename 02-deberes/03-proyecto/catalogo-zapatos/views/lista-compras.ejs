<!DOCTYPE html>
<html lang="es">
<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <style>
        #titulo_compras {
            color: #D36F14;
            margin: 45px 30px 20px 30px;
            text-align: center;
        }

        #btn_agregar {
            text-align: right;
            margin: 20px 30px 45px 30px;
        }
    </style>
</head>
<body>
<div class="container">
    <div class="col-lg-12">
        <nav id="menu" class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand" href="/shoes/clientes">Clientes</a>
            <a class="navbar-brand" href="/shoes/compras">Compras</a>
            <a class="navbar-brand" href="/shoes/zapatos">Zapatos</a>
        </nav>
    </div>
    <div class="row">
        <div id="titulo_compras" class="col-lg-12"><h1>Compras</h1></div>
    </div>
    <div class="row">
        <div id="btn_agregar" class="col">
            <a href="/shoes/compras/crear">
                <button type="button" class="btn btn-success">Agregar</button>
            </a>
        </div>
    </div>
    <div class="row">
        <table class="table table-striped">
            <thead>
            <tr>
                <th></th>
                <th>Código</th>
                <th>Cédula</th>
                <th>Zapato</th>
                <th>Fecha</th>
                <th>Cantidad</th>
                <th>Total</th>
                <th>Validez</th>
            </tr>
            </thead>
            <% arregloCompras.forEach(compra=> { %>
                <tbody>
                <tr>
                    <td>
                        <form action="/shoes/compras/actualizar" method="post">
                            <input type="text" id="compraID" name="codigoCli" value="<%= compra.codigoCom %>" hidden>
                            <input type="image" src="/images/borrar.png" align="center" width="30" height="30"
                                   alt="Submit Form">
                        </form>
                    </td>
                    <td>
                        <form action="/shoes/compras/actualizar" method="post">
                            <input type="text" id="compraID" name="codigoCli" value="<%= compra.codigoCom %>" hidden>
                            <input type="image" src="/images/borrar.png" align="center" width="30" height="30"
                                   alt="Submit Form">
                        </form>
                    </td>
                    <td><%= compra.codigoCom %></td>
                    <% const cliente = arregloClientes.find(c => {
                        compra.codigoCli = c.codigoCli
                    }) %>
                    <td><%= cliente.cedula %></td>
                    <% const zapato = arregloZapatos.find(z => {
                        compra.ComZapId = z.codigoZap
                    }) %>
                    <td><%= zapato.codigoZap %></td>
                    <td><%= compra.fecha %></td>
                    <td><%= compra.cantidad %></td>
                    <td><%= compra.total %></td>
                    <td><%= compra.validez %></td>
                </tr>
                </tbody>
            <% }) %>
        </table>
    </div>
</div>
</body>
</html>